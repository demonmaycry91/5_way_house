python3 -m venv .venv
source .venv/bin/activate
pip install pip-tools
pip install --upgrade pip
pip-compile requirements.in
pip install -r requirements.txt
pip-sync
export FLASK_APP=run.py
# 刪除專案根目錄中的 instance/app.db 檔案。
# 刪除專案根目錄中的 migrations 資料夾。
flask db init
flask db migrate -m "Initial migration"
flask db upgrade
flask backup init
flask auth init-roles
flask auth create-user <username> <password> --role Admin
flask auth create-user root password --role Admin
flask run

export OBJC_DISABLE_INITIALIZE_FORK_SAFETY=YES
rq worker cashier-tasks
rq worker cashier-tasks --url redis://localhost:6379/0

# /instance中加入token和client_secret
====
給予腳本執行權限：chmod +x setup.sh

執行腳本：./setup.sh
# 啟用虛擬環境
source .venv/bin/activate

# 啟動 Flask 伺服器
flask run

# 在另一個終端機中，啟動 RQ 背景任務 worker
rq worker cashier-tasks